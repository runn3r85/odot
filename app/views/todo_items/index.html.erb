<% content_for(:title) {"#{@todo_list.title} | "} %>
<div class="row collapse todo-list-title">
  <div class="small-11 columns">
    <h2 class="page-title truncate"><%= @todo_list.title %></h2>
  </div>
  <div class="small-1 columns">
    <span class="fa fa-caret-down"></span>
  </div>
</div>

<div class="row " id="todo-list-functions">
  <div class="small-4 column">
    <%= link_to edit_todo_list_path(@todo_list), class: "button expand radius outline" do %>
      <span class="fa fa-edit"></span>
      Edit
    <% end %>
  </div>
  <div class="small-4 column">
    <%= link_to edit_todo_list_path(@todo_list), class: "button expand radius outline", data: { "reveal_id" => "email-modal" } do %>
      <span class="fa fa-envelope-o"></span>
      Email
    <% end %>
  </div>
  <div class="small-4 column">
    <%= link_to todo_list_path(@todo_list), class: "button expand radius outline alert", method: :delete, data: { confirm: "Are you sure you want to delete this list?" } do %>
      <span class="fa fa-trash"></span>
      Delete
    <% end %>
  </div>
</div>

<ul class="list todo-items no-bullet">
  <% @todo_list.todo_items.each do |item| %>
    <li class="todo-item row" id="<%= dom_id(item) %>">
      <div class="small-2 medium-1 columns checkmark">
        <% if item.completed? %>
          <%= link_to "Mark Incomplete", complete_todo_list_todo_item_path(@todo_list, item), method: :patch, class: "icon-check checked hide-text" %>
        <% else %>
          <%= link_to "Mark Complete", complete_todo_list_todo_item_path(@todo_list, item), method: :patch, class: "icon-check unchecked hide-text" %>
        <% end %>
      </div>
      <div class="small-10 medium-11 columns truncate todo-content" title="<%= item.content %>">
        <%= link_to item.content, edit_todo_list_todo_item_path(@todo_list, item) %>
      </div>
    </li>
  <% end %>
</ul>